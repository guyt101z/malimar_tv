<table class='table table-hover table-bordered' id='tx_table'>
    <thead><tr>
        <th>ID</th>
        <th>Date</th>
        <th>Amount</th>
        <th>Status</th>
    </tr></thead>
    <tbody>
        <% @transactions.each do |transaction| %>
            <% details = YAML.load(transaction.product_details) %>
            <tr onclick='window.location = "<%= view_tx_path(id: transaction.id) %>"'>
                <th><%= transaction.id %></th>
                <td><%= transaction.created_at.strftime('%Y/%m/%d') %></td>
                <td>$<%= number_with_precision(details[:price], precision: 2) %></td>
                <td class='<%= transaction.status.downcase %>'><%= transaction.status %></td>
            </tr>
        <% end %>
    </tbody>
</table>
<script>
    $('#tx_table').dataTable()
</script>
